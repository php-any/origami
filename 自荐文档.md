# Origami-lang（折言）项目自荐文档

## 📋 项目概述

**Origami-lang（折言）** 是一门创新性的融合型脚本语言，致力于打破传统编程语言的边界，将 PHP 的快速开发能力、Go 的高效并发模型、以及现代语言的优秀特性融为一体，为开发者提供一个既熟悉又强大的编程工具。

### 项目定位

Origami-lang 不仅仅是一门新的编程语言，更是一个**桥梁**——连接快速开发与高性能执行、连接脚本语言与系统语言、连接不同编程范式的桥梁。它让 PHP 开发者能够无缝使用 Go 的并发能力，让 Go 开发者能够享受脚本语言的灵活性。

---

## ✨ 核心优势

### 1. 🎯 **零配置的 Go 集成能力**

**问题**：传统脚本语言扩展需要复杂的 C/C++ 绑定，学习曲线陡峭，开发成本高。

**解决方案**：Origami-lang 基于 Go 反射机制，实现了**零配置**的 Go 函数和结构体注册。

```go
// 只需几行代码，就能将 Go 函数暴露给脚本
vm.AddFunc(myext.NewMyFunction())
vm.AddClass(myext.NewMyClass())
```

**价值**：

- ✅ 降低扩展开发门槛，Go 开发者无需学习 C/C++ 绑定
- ✅ 充分利用 Go 生态系统的丰富库
- ✅ 类型安全，编译期检查，减少运行时错误
- ✅ 性能优异，直接调用 Go 代码，无额外开销

### 2. 🚀 **PHP 兼容 + Go 并发**

**问题**：PHP 开发者熟悉快速开发，但缺乏原生并发支持；Go 开发者有强大的并发能力，但开发效率相对较低。

**解决方案**：Origami-lang 完美融合两者优势。

```php
<?php
// PHP 熟悉的语法
function fetchData(string $url): array {
    // 使用 Go 的并发能力
    spawn ()=>{
        // 异步执行，不阻塞主流程
        $result = httpGet($url);
        return $result;
    }
}
```

**价值**：

- ✅ PHP 开发者零学习成本，直接上手
- ✅ 原生协程支持，轻松处理高并发场景
- ✅ 保持 PHP 的快速开发节奏
- ✅ 享受 Go 的性能优势

### 3. 🎨 **现代化语言特性**

Origami-lang 不仅融合了 PHP 和 Go，还引入了现代语言的优秀特性：

#### 类型系统

```php
// 类型声明，提高代码可读性和安全性
string $name = "Origami";
int $age = 25;
?string $optional = null;  // 可空类型
```

#### 泛型支持

```php
// 泛型类，提高代码复用性
class DB<T> {
    public function find(int $id): ?T {
        // ...
    }
}
```

#### 函数式编程

```php
// 丰富的数组方法，支持链式调用
$result = $numbers
    ->map(fn($n) => $n * 2)
    ->filter(fn($n) => $n > 10)
    ->reduce(fn($acc, $n) => $acc + $n, 0);
```

#### HTML 内嵌支持

```php
<?php
function renderPage() {
    ?>
    <div class="container">
        <h1>Hello, Origami!</h1>
    </div>
    <?php
}
```

#### 中文关键字支持

```php
<?php
如果 ($score >= 90) {
    输出("优秀");
} 否则 {
    输出("需要努力");
}
```

**价值**：

- ✅ 降低学习门槛，支持中文编程
- ✅ 提高开发效率，减少样板代码
- ✅ 增强代码可读性和可维护性
- ✅ 适应不同开发场景和团队需求

### 4. 🔧 **完整的标准库生态**

Origami-lang 提供了丰富的标准库，覆盖常见开发场景：

- **数据库模块**：完整的 ORM 支持，支持 MySQL、PostgreSQL 等
- **HTTP 模块**：HTTP 客户端和服务器
- **WebSocket 支持**：实时通信能力
- **日志系统**：多级别日志记录
- **异常处理**：完善的错误处理机制
- **上下文管理**：Go 风格的 Context 支持

**价值**：

- ✅ 开箱即用，无需重复造轮子
- ✅ 统一 API 设计，降低学习成本
- ✅ 生产级质量，经过充分测试

---

## 🎯 应用场景

### 1. **Web 后端开发**

Origami-lang 特别适合快速构建 Web 应用：

```php
<?php
// 简洁的 HTTP 服务器
$server = new Http\Server();
$server->get("/api/users", function($req, $res) {
    $users = DB::table("users")->findAll();
    $res->json($users);
});
$server->listen(8080);
```

**优势**：

- PHP 开发者熟悉的语法
- Go 的高性能并发处理
- 完整的数据库 ORM 支持

### 2. **微服务开发**

利用 Go 的并发能力，轻松构建微服务：

```php
<?php
// 并发处理多个服务调用
$results = [];
spawn {
    $results["user"] = fetchUser($userId);
}
spawn {
    $results["order"] = fetchOrder($orderId);
}
// 等待所有协程完成
```

**优势**：

- 原生协程支持，无需复杂的异步库
- 代码简洁，易于理解和维护
- 性能优异，适合高并发场景

### 3. **脚本工具开发**

快速开发命令行工具和自动化脚本：

```php
<?php
// 文件处理脚本
$files = glob("*.txt");
foreach ($files as $file) {
    $content = file_get_contents($file);
    $processed = processContent($content);
    file_put_contents($file, $processed);
}
```

**优势**：

- 语法简洁，开发快速
- 丰富的标准库支持
- 易于集成 Go 生态的工具

### 4. **API 网关和中间件**

利用 Go 的性能优势，构建高性能 API 网关：

```php
<?php
// API 网关示例
$gateway = new Http\Server();
$gateway->use(function($req, $res, $next) {
    // 认证中间件
    if (!authenticate($req)) {
        $res->status(401)->json(["error" => "Unauthorized"]);
        return;
    }
    $next();
});
```

**优势**：

- 高性能，适合网关场景
- 灵活的中间件机制
- 易于扩展和维护

---

## 🏆 技术亮点

### 1. **创新的语法融合**

Origami-lang 不是简单的语法糖，而是真正融合了多种语言的优秀特性：

- **PHP 的灵活性**：动态类型、快速开发
- **Go 的并发性**：原生协程、高效执行
- **TypeScript 的类型系统**：类型声明、可空类型
- **Java 的面向对象**：类继承、接口实现

### 2. **强大的反射机制**

基于 Go 反射实现的语言集成，让扩展开发变得简单：

```go
// 自动类型转换，无需手动处理
func (f *MyFunction) Call(ctx data.Context) (data.GetValue, data.Control) {
    // 自动处理类型转换
    if str, ok := arg.(data.AsString); ok {
        // 直接使用
    }
}
```

### 3. **完整的工具链**

- **LSP 支持**：IDE 智能提示和代码补全
- **丰富的文档**：完整的中英文文档
- **示例代码**：大量实际应用示例
- **测试覆盖**：完善的测试用例

---

## 📊 项目数据

- **代码行数**：10,000+ 行核心代码
- **标准库模块**：20+ 个核心模块
- **文档页数**：50+ 页详细文档
- **示例项目**：10+ 个完整示例
- **测试用例**：100+ 个测试用例

---

## 🚀 快速开始

### 安装

```bash
git clone https://github.com/php-any/origami.git
cd origami
go build -o origami .
```

### 第一个程序

```php
<?php
echo "Hello, Origami!";

string $name = "World";
echo "Hello, {$name}!";
```

### 运行

```bash
./origami hello.zy
```

---

## 💡 为什么选择 Origami-lang？

### 对于 PHP 开发者

- ✅ **零学习成本**：熟悉的 PHP 语法，立即上手
- ✅ **性能提升**：享受 Go 的高性能并发能力
- ✅ **生态丰富**：可以使用 Go 的丰富库和工具
- ✅ **类型安全**：可选类型声明，提高代码质量

### 对于 Go 开发者

- ✅ **快速开发**：脚本语言的灵活性，提高开发效率
- ✅ **易于扩展**：轻松将 Go 代码暴露给脚本
- ✅ **统一工具**：一个语言解决脚本和系统编程需求
- ✅ **降低门槛**：让团队其他成员也能参与开发

### 对于团队

- ✅ **降低学习成本**：PHP 开发者快速上手
- ✅ **提高开发效率**：脚本语言的快速迭代能力
- ✅ **性能保障**：Go 的高性能执行能力
- ✅ **易于维护**：清晰的代码结构和丰富的文档

---

## 🌟 未来规划

### 短期目标（3-6 个月）

- [ ] 性能优化，提升执行效率
- [ ] 完善标准库，增加更多实用模块
- [ ] 改进 IDE 支持，提升开发体验
- [ ] 增加更多示例和教程

### 中期目标（6-12 个月）

- [ ] 支持更多数据库驱动
- [ ] 完善 WebSocket 和实时通信能力
- [ ] 构建包管理系统
- [ ] 增加更多企业级特性

### 长期愿景

- [ ] 成为 PHP 和 Go 之间的最佳桥梁
- [ ] 构建活跃的开源社区
- [ ] 支持更多平台和架构
- [ ] 提供商业支持和咨询服务

---

## 🤝 参与贡献

我们欢迎所有形式的贡献：

- **代码贡献**：修复 Bug、添加新功能
- **文档改进**：完善文档、翻译文档
- **示例项目**：分享实际应用案例
- **社区支持**：回答问题、帮助新用户

### 如何贡献

1. Fork 项目仓库
2. 创建特性分支
3. 提交你的更改
4. 发起 Pull Request

---

## 📞 联系我们

- **GitHub**: https://github.com/php-any/origami
- **讨论群**: 扫描二维码加入（见 README）
- **Issues**: 在 GitHub 上提交问题或建议

---

## 📄 许可证

MIT License - 自由使用，自由修改，自由分发

---

## 🙏 致谢

感谢所有为 Origami-lang 项目做出贡献的开发者和用户。正是有了你们的支持，这个项目才能不断发展和完善。

---

**Origami-lang - 让编程更简单，让开发更高效！**
